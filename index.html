<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Redirect Example</title>
</head>
<body>

<script>
function redirectToStore() {
    if (navigator.userAgent.toLowerCase().indexOf("iphone") > -1) {
        // Redirect to App Store
        window.location.href = 'https://apps.apple.com/us/app/alfredstay/id6450202202';
    } else if (navigator.userAgent.toLowerCase().indexOf("android") > -1) {
        // Redirect to Google Play
        window.location.href = 'https://play.google.com/store/apps/details?id=com.alfredtheapp.alfred';
    } else {
        // Redirect to a default URL for other devices
        window.location.href = 'https://www.alfredtheapp.com/';
    }
}

// Автоматическое перенаправление
window.onload = function() {
    setTimeout(redirectToAppOrStore, 0);
}

function redirectToAppOrStore() {
    // Проверяем, есть ли у пользователя приложение на устройстве
    // Предполагаем, что "https://alfredtheapp.com/hotels/" - это схема URL вашего приложения
    var appInstalled = false;

    // Создаем временный iframe с схемой URL приложения
    var iframe = document.createElement("iframe");
    iframe.style.display = "none";
    iframe.src = "https://alfredtheapp.com/hotels/";

    // Добавляем iframe на страницу
    document.body.appendChild(iframe);

    // Обработчик события загрузки страницы
    iframe.onload = function() {
        // По событию загрузки приложения устанавливаем флаг в true
        appInstalled = true;

        // Удаляем iframe
        document.body.removeChild(iframe);

        // Перенаправляем в приложение
        window.location.href = 'https://alfredtheapp.com/hotels/';
    };

    // Устанавливаем таймаут для проверки загрузки приложения
    setTimeout(function() {
        // Если приложение не загрузилось, удаляем iframe
        document.body.removeChild(iframe);

        // Если приложение не установлено, перенаправляем в магазин приложений
        if (!appInstalled) {
            redirectToStore();
        }
    }, 1000); // Время ожидания в миллисекундах
}
</script>

</body>
</html>